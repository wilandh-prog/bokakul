<!DOCTYPE html>
<html lang="sv">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BokaKul - √ñva Bokf√∂ring</title>
    <link rel="stylesheet" href="style.css">
    <!-- Google Analytics - laddas endast efter samtycke -->
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}

        function loadGoogleAnalytics() {
            var script = document.createElement('script');
            script.async = true;
            script.src = 'https://www.googletagmanager.com/gtag/js?id=G-YFZ26E07SE';
            document.head.appendChild(script);
            gtag('js', new Date());
            gtag('config', 'G-YFZ26E07SE');
        }

        // Kolla om anv√§ndaren redan gett samtycke
        if (localStorage.getItem('cookieConsent') === 'accepted') {
            loadGoogleAnalytics();
        }
    </script>
</head>
<body>
    <div class="container">
        <header>
            <h1>üìö BokaKul</h1>
            <div class="stats">
                <div class="stat">
                    <span class="label">Po√§ng:</span>
                    <span id="score" class="value">0</span>
                </div>
                <div class="stat">
                    <span class="label">Niv√•:</span>
                    <span id="level" class="value">1</span>
                </div>
                <div class="stat highlight">
                    <span class="label">üèÜ Highscore:</span>
                    <span id="high-score" class="value">0</span>
                </div>
                <div class="stat">
                    <span class="label">üî• Streak:</span>
                    <span id="streak" class="value streak-value">0</span>
                </div>
                <div class="stat">
                    <span class="label">‚≠ê B√§sta:</span>
                    <span id="best-streak" class="value">0</span>
                </div>
                <div class="stat">
                    <span class="label">R√§tt:</span>
                    <span id="correct" class="value">0</span>
                </div>
                <div class="stat">
                    <span class="label">Fel:</span>
                    <span id="incorrect" class="value">0</span>
                </div>
                <div class="stat">
                    <span class="label">üìä Totalt r√§tt:</span>
                    <span id="total-correct" class="value">0</span>
                </div>
            </div>
        </header>

        <main>
            <div class="level-selector">
                <label for="level-select" class="level-label">V√§lj niv√•</label>
                <select id="level-select" class="level-dropdown">
                    <option value="1">Niv√• 1 - Grundl√§ggande</option>
                    <option value="2">Niv√• 2 - F√∂rs√§ljning och ink√∂p utan moms</option>
                    <option value="3">Niv√• 3 - Transaktioner med 25% moms</option>
                    <option value="4">Niv√• 4 - Momsredovisning</option>
                    <option value="5">Niv√• 5 - Resultatr√§kning</option>
                </select>
            </div>

            <div class="event-card">
                <div class="event-header">
                    <h2>Aff√§rsh√§ndelse</h2>
                    <span id="event-counter" class="event-counter"></span>
                </div>
                <p id="event-description" class="event-description"></p>
            </div>

            <div class="booking-area">
                <h3>Kontera h√§ndelsen:</h3>

                <div class="booking-order">
                    <table class="booking-table">
                        <thead>
                            <tr>
                                <th colspan="2">Konto</th>
                                <th>Debet</th>
                                <th>Kredit</th>
                                <th></th>
                            </tr>
                        </thead>
                        <tbody id="booking-entries">
                            <!-- Bokf√∂ringsrader kommer h√§r -->
                        </tbody>
                        <tfoot>
                            <tr class="totals-row">
                                <td colspan="2"><strong>Summa</strong></td>
                                <td id="total-debet" class="total-cell">0</td>
                                <td id="total-kredit" class="total-cell">0</td>
                                <td></td>
                            </tr>
                        </tfoot>
                    </table>
                </div>

                <button id="add-row" class="btn btn-secondary">+ L√§gg till rad</button>
            </div>

            <div class="controls">
                <button id="check-answer" class="btn btn-primary">Kontrollera svar</button>
                <button id="next-event" class="btn btn-secondary" style="display: none;">N√§sta h√§ndelse</button>
                <button id="show-hint" class="btn btn-hint">üí° Ledtr√•d</button>
            </div>

            <div id="feedback" class="feedback" style="display: none;"></div>

            <div id="hint" class="hint" style="display: none;"></div>
        </main>

        <aside class="sidebar">
            <div class="achievements-section">
                <h3>üèÖ Utm√§rkelser</h3>
                <div id="achievements-list" class="achievements-list"></div>
            </div>

            <div class="account-plan">
                <h3>Kontoplan</h3>
                <div id="account-list" class="account-list"></div>
            </div>
        </aside>
    </div>

    <script src="app.js"></script>

    <!-- Cookie Banner -->
    <div id="cookie-banner" class="cookie-banner" style="display: none;">
        <div class="cookie-content">
            <p>Vi anv√§nder cookies f√∂r att analysera hur webbplatsen anv√§nds.</p>
            <div class="cookie-buttons">
                <button id="cookie-accept" class="btn btn-primary">Acceptera</button>
                <button id="cookie-decline" class="btn btn-secondary">Avb√∂j</button>
            </div>
        </div>
    </div>

    <script>
        // Visa cookie-banner om inget val gjorts
        if (!localStorage.getItem('cookieConsent')) {
            document.getElementById('cookie-banner').style.display = 'flex';
        }

        document.getElementById('cookie-accept').addEventListener('click', function() {
            localStorage.setItem('cookieConsent', 'accepted');
            document.getElementById('cookie-banner').style.display = 'none';
            loadGoogleAnalytics();
        });

        document.getElementById('cookie-decline').addEventListener('click', function() {
            localStorage.setItem('cookieConsent', 'declined');
            document.getElementById('cookie-banner').style.display = 'none';
        });
    </script>
</body>
</html>
